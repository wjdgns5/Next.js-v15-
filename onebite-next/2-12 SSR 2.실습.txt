--------------------------------------
벡엔드 서버 열기

oneBite-Books-server 폴더를 Vscode로 열어서 창을 유지한다.
그리고 터미널에 "npm run start"를 입력한다.

브라우저 URL에 “ http://localhost:12345/api ” 를 입력한다.
---------------------------------------

--------------------------------------
API 호출를 담당할 호출을 만들어 보기

"src" 폴더 아래에 "lib" 폴더를 생성한다.
fetch-books.ts 파일을 생성한다.

"src" 폴더 아래에 "pages" 폴더로 이동한다.
index.tsx 파일에 async await를 활용해서 수정한다.
-------------------------------------------

-------------------------------------------
만약에 실행했는데 배열에 데이터가 나오지 않는다면
이전 시간에 DB 설정했었던 " https://supabase.com/ " 에 들어가서 프로젝트가 "멈춤 pause ' 되어있는지 확인하고
다시 재시작 하면 된다. 
-------------------------------------------

-------------------------------------------
다시 vscode 터미널을 재시작 한다.
서버측 터미널은 "npm run start"
클라이언트 터미널은 "npm run dev"
-------------------------------------------

그러면 콘솔 창에 데이터가 들어온것을 확인할 수 있다.



---------------------------------------------------
src/lib/fetch-books.ts

// async : 비동기(asynchronous)란?
// 어떤 작업을 실행할 때 그 작업이 완료되지 않더라도 다음 코드를 실행하는 방식

// Promise<T> : "비동기 작업이 끝났을 때 T 타입의 값을 돌려준다" 는 의미

// q?: string : 선택적으로 문자열 q 이다.
// q?: string : q를 안 넘기면 "undefined" 가 된다. (즉, 값이 있어도 되고 없어도 됨)
---------------------------------------------------

---------------------------------------------------
src/lib/fetch-random-books.ts

// Promise<T> : "비동기 작업이 끝났을 때 T 타입의 값을 돌려준다" 는 의미
---------------------------------------------------

---------------------------------------------------
/src/pages/index.tsx

// context : 현재 브라우저에서 받은 요청(Request)에 대한 모든 정보가 들어있는 객체
// GetServerSidePropsContext : context 객체의 타입을 정의한 타입스크립트 타입
---------------------------------------------------

---------------------------------------------------
/src/pages/book/[id].tsx

InferGetServerSidePropsType< typeof getServerSideProps >
// Infer : 추론하다 (타입을 자동으로 파악하다).
// GetServerSidePropsType<> : 함수가 반환한 Props 객체의 타입을 얻는다.?
// <typeof getServerSideProps> : getServerSideProps 라는 함수형 변수의 타입을 가져온다.

---------------------------------------------------

---------------------------------------------------
/src/pages/search/index.tsx

// context : 현재 브라우저에서 받은 요청(Request)에 대한 모든 정보가 들어있는 객체
// GetServerSidePropsContext : context 객체의 타입을 정의한 타입스크립트 타입

---------------------------------------------------

---------------------------------------------------
/src/lib/fetch-one-books.ts

// Promise<T> : "비동기 작업이 끝났을 때 T 타입의 값을 돌려준다" 는 의미
// - BookData 객체 또는 - null (데이터가 없을 경우)을 반환한다는 의미

---------------------------------------------------

정리
✅ 1. `GetServerSidePropsContext`

> getServerSideProps(context) 함수의 매개변수 context의 타입

- 브라우저에서 들어온 요청 정보 전체를 담고 있음
- 서버에서 요청된 **쿼리, 파라미터, 쿠키, 헤더 등**을 추출할 때 사용

 ✅ 2. `InferGetServerSidePropsType`

> getServerSideProps()가 반환하는 { props: ... } 안의 props 타입을 추론해서 가져오는 유틸리티 타입

- 컴포넌트에서 props 타입을 **자동 추론**할 때 사용
- `typeof` 와 함께 사용
